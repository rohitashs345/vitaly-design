{% style %}
  .custom-banner {
    width: 100vw;
    max-width: 100vw;
    height: auto;
  }
  
  .desktop-custom-banner {
    display: none;
  }
  
  .desktop-custom-banner.page-width--narrow {
    width: 100%;
    margin: 0 auto;
  }
  
  .desktop-custom-banner.page-width--narrow img {
    width: 100%;
  }
  
  .hyperlink-page .klaviyo-form form {
    background-color: transparent!important;
  }
  
  .hyperlink-page .desktop-custom-banner {
      line-height: 0;
  }
  
  .hyperlink-page .custom-image-banner-section, .hyperlink-page .page-no-title-section {
      margin: 0;
  }
  
  .hyperlink-page .klaviyo-form-container {
    min-height: 600px!important;
  }  

  .all-access-page {
    margin: 0 auto;
    max-width: 2600px;
  }

  .all-access-page .custom-image-banner-section, .all-access-page .page-no-title-section {
    background-color: black;
  }

  @media screen and (min-width: 750px) {
    .desktop-custom-banner {
      display: block;
    }
    .mobile-custom-banner {
      display: none;
    }  
  }
  
  @media screen and (min-width: 1425px) {
    .hyperlink-page {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-areas: "banner form" "foursixty foursixty" "collection collection";
      width: 100%;
      grid-template-rows: auto;
    }
    
    .hyperlink-page .klaviyo-form-container {
      min-height: 200px!important;
    }  

    .hyperlink-page .custom-image-banner-section {
      grid-area: banner;
    }

    .hyperlink-page .page-no-title-section {
      grid-area: form;
    }

    .hyperlink-page .foursixty-section {
      grid-area: foursixty;
      width: 100%;
    }

    .hyperlink-page .featured-collection-section {
      grid-area: collection;
      width: 100%;
    }

    .hyperlink-page .desktop-custom-banner .custom-banner  {
      width: 100%;
    }

    .hyperlink-page .page-no-title-section {
      background-image: url(https://cdn.shopify.com/s/files/1/0161/1184/files/DESKTOP-background-no-line.jpg?v=1658175994);
      background-size: contain;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .all-access-page .page-no-title-section {
      background-image: none;
      background-color: black;
    }

    .hyperlink-page .page-no-title-section .page-width {
      width: 100%
    }
  }
{% endstyle %}

<div class="desktop-custom-banner  {% if section.settings.container == true %} page-width--narrow{% endif %}">
  {% if section.settings.link != blank %} <a href="{{ section.settings.link }}"> {% endif %}
    <img
      srcset="{%- if section.settings.image.width >= 375 -%}{{ section.settings.image | image_url: width: 375 }} 375w,{%- endif -%}
        {%- if block.settings.image.width >= 550 -%}{{ block.settings.image | image_url: width: 550 }} 550w,{%- endif -%}
        {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | image_url: width: 750 }} 750w,{%- endif -%}
        {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
        {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | image_url: width: 1500 }} 1500w,{%- endif -%}
        {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | image_url: width: 1780 }} 1780w,{%- endif -%}
        {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | image_url: width: 2000 }} 2000w,{%- endif -%}
        {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | image_url: width: 3000 }} 3000w,{%- endif -%}
        {%- if section.settings.image.width >= 3840 -%}{{ section.settings.image | image_url: width: 3840 }} 3840w,{%- endif -%}
        {{ section.settings.image | image_url }} {{ section.settings.image.width }}w"
      src="{{ section.settings.image | image_url: width: 1500 }}"
      class="custom-banner"
      loading="lazy"
      alt="{{ section.settings.image.alt | escape }}"
      width="{{ section.settings.image.width }}"
      height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"
    >
  {% if section.settings.link != blank %} </a> {% endif %}
</div>

<div class="mobile-custom-banner">
 {% if section.settings.link != blank %} <a href="{{ section.settings.link }}"> {% endif %}
      <img
        srcset="{%- if section.settings.image_mobile.width >= 375 -%}{{ section.settings.image_mobile | image_url: width: 375 }} 375w,{%- endif -%}
          {%- if block.settings.image.width >= 550 -%}{{ block.settings.image_mobile | image_url: width: 550 }} 550w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 750 -%}{{ section.settings.image_mobile| image_url: width: 750 }} 750w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 1100 -%}{{ section.settings.image_mobile | image_url: width: 1100 }} 1100w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 1500 -%}{{ section.settings.image_mobile | image_url: width: 1500 }} 1500w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 1780 -%}{{ section.settings.image_mobile | image_url: width: 1780 }} 1780w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 2000 -%}{{ section.settings.image_mobile | image_url: width: 2000 }} 2000w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 3000 -%}{{ section.settings.image_mobile | image_url: width: 3000 }} 3000w,{%- endif -%}
          {%- if section.settings.image_mobile.width >= 3840 -%}{{ section.settings.image_mobile| image_url: width: 3840 }} 3840w,{%- endif -%}
          {{ section.settings.image_mobile | image_url }} {{ section.settings.image_mobile.width }}w"
        src="{{ section.settings.image_mobile | image_url: width: 1500 }}"
        class="custom-banner"
        loading="lazy"
        alt="{{ section.settings.image_mobile.alt | escape }}"
        width="{{ section.settings.image_mobile.width }}"
        height="{{ section.settings.image_mobile.width | divided_by: section.settings.image_mobile.aspect_ratio }}"   
      >
   {% if section.settings.link != blank %}</a>{% endif %}
</div>

{% schema %}
  {
    "name": "Custom Image Banner",
	"tag": "section",
	"class": "spaced-section spaced-section--full-width custom-image-banner-section",
    "settings": [
		{
          "type": "image_picker",
          "id": "image",
          "label": "Desktop Image"
    	},
		{
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Mobile Image"
    	},
		{
          "type": "checkbox",
          "id": "container",
		  "default": false,
          "label": "Container Desktop Image?"
    	},
        {
          "type": "url",
          "id": "link",
          "label": "Link"
    	}

	],
    "presets": [
        {
          "name": "Custom Image Banner"
        }
    ]
  }
{% endschema %}
